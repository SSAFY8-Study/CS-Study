# RDBMS와 NoSQL의 차이점

## DBMS와 SQL
- Databse: 일반적으로 컴퓨터 시스템에 전자 방식으로 저장된 구조화된 정보 또는 데이터의 체계적인 집합
- DBMS(DataBase Management System): 사용자와 데이터베이스 사이에서 사용자의 요구에 따라 정보를 생성해 주고 데이터베이스를 관리해 주는 소프트웨어
- SQL(Strucured Query Language): 관계형 데이터베이스 관리 시스템의 데이터를 관리하기 위해 설계된 특수 목적의 프로그래밍 언어이며 관계형 데이터베이스 관리 시스템에서 자료의 검색과 관리, 데이터베이스 스키마 생성과 수정, 데이터베이스 객체 접근 조정 관리를 수행

 
## RDBMS
- R(Relational) + DBMS = 관계형 데이터베이스 관리 시스템을 의미, RDB는 관계형 데이터 모델을 기초로 두고 모든 데이터를 2차원 테이블 형태로 표현하는 데이터베이스
- 기존의 RDBMS에서의 저장 방식은 SQL에 의해 저장되고 있으며 정해진 스키마에 따라 데이터를 저장 
- 관계형 데이터베이스는 아래와 같이 구성된 테이블이 다른 테이블들과 관계를 맺고 모여있는 집합체를 의미
- 관계형 데이터베이스에서는 테이블 간의 관계를 나타내기 위해 외래 키(foreign key)를 사용
- 테이블 간의 관계에서 외래 키를 이용한 테이블 간 join이 가능하다는 게 RDBMS의 가장 큰 특징

**[회원 Table]**
|회원 번호 (Primary Key) |	회원 이름	| 휴대폰 번호 |
|---|---|---|
|1111111	|김싸피	|010-1234-5678|
|2222222	|이싸피	|010-9876-5432|
<br>
<br>

**[대출 도서 Table]**
|대출 번호 (Primary Key) |	대출 회원 번호 (foreign key)|	대출 도서 명|
|---|---|---|
|001 |1111111	|JAVA의 달인|
|002 |2222222	|SQL 완전 정복|
|003 |2222222	|알고리즘의 정석|


## NoSQL
- NoSQL은 Not Only SQL의 약자
- RDB 형태의 관계형 데이터베이스가 아닌 다른 형태의 데이터 저장 기술을 의미하는데, RDBMS와는 달리 테이블 간 관계를 정의하지 않음 
- 데이터 테이블은 그냥 하나의 테이블이며 테이블 간의 관계를 정의하지 않아 일반적으로 테이블 간 관계를 바탕으로 하는 join도 불가능 
- NoSQL은 점점 빅데이터의 등장으로 인해 데이터와 트래픽이 기하급수적으로 증가함에 따라 RDBMS의 단점인 성능을 향상시키기 위해서는 장비의 사양을 높이기 위한 비용을 기하급수적으로 증가시키기 때문에, 데이터 일관성은 포기하되 여러 대의 데이터에 분산하여 저장하여 비용을 줄임
- RDBMS 스키마에 맞추어 데이터를 관리해야 된다는 한계를 극복하고 수평적 확장성(Scale-out)을 쉽게 할 수 있다는 장점이 있음
<br>

### 1. Key Value DB

Key-Value Database는 데이터가 Key와 Value의 쌍으로 저장된다. Key는 Value에 접근하기 위한 용도로 사용되며, 값은 어떠한 형태의 데이터라도 담을 수 있다. 또한 간단한 API를 제공하는 만큼 질의의 속도가 굉장히 빠른 편이다.
대표적인 NoSQL Key-Value Model로는 Redis, Riak, Amazon Dynamo DB 등이 있다.
 

### 2. Document Database

Documnet Database 데이터는 Key와Document의 형태로 저장된다. Key-Value 모델과 다른 점이라면 Value가 계층적인 형태인 도큐먼트로 저장된다는 것이다. 객체지향에서의 객체와 유사하며, 이들은 하나의 단위로 취급되어 저장된다. 다시 말해 하나의 객체를 여러 개의 테이블에 나눠 저장할 필요가 없어진다는 뜻이다. 
주요한 특징으로는 객체-관계 매핑이 필요하지 않다. 객체를 Document의 형태로 바로 저장 가능하기 때문이다. 또한 검색에 최적화되어 있는데, 이는 Ket-Value 모델의 특징과 동일하다. 단점이라면 사용이 번거롭고 쿼리가 SQL과는 다르다는 점이다. 도큐먼트 모델에서는 질의의 결과가 JSON이나 xml 형태로 출력되기 때문에 그 사용 방법이 RDBMS에서의 질의 결과를 사용하는 방법과 다르다. 
대표적인 NoSQL Document Model로는 MongoDB, CouthDB 등이 있다.
 

### 3. Wide Column Database

Column-family Model 기반의 Database이며 이전의 모델들이 Key-Value 값을 이용해 필드를 결정했다면, 특이하게도 이 모델은 키에서 필드를 결정한다. 키는 Row(키 값)와 Column-family, Column-name을 가진다. 연관된 데이터들은 같은 Column-family 안에 속해 있으며, 각자의 Column-name을 가진다. 관계형 모델로 설명하자면 어트리뷰트가 계층적인 구조를 가지고 있는 셈이다. 이렇게 저장된 데이터는 하나의 커다란 테이블로 표현이 가능하며, 질의는 Row, Column-family, Column-name을 통해 수행된다.
대표적인 NoSQL Column-family Model로는 HBase, Hypertable 등이 있다.
 

### 4. Graph Database 

Graph Model Model에서는 데이터를 Node와 Edge, Property와 함께 그래프 구조를 사용하여 데이터를 표현하고 저장하는 Database입니다. 개체와 관계를 그래프 형태로 표현한 것이므로 관계형 모델이라고 할 수 있으며, 데이터 간의 관계가 탐색의 키일 경우에 적합하다. 페이스북이나 트위터 같은 소셜 네트워크에서(내 친구의 친구를 찾는 질의 등) 적합하고, 연관된 데이터를 추천해주는 추천 엔진이나 패턴 인식 등의 데이터베이스로도 적합하다.
대표적인 NoSQL Graph Model로는 Neo4J가 있다.
<br> 
 
# RDBMS와 NoSQL의 장단점
## RDBMS

### 장점
RDBMS는 정해진 스키마에 따라 데이터를 저장하여야 하므로 명확한 데이터 구조를 보장할 수 있다. (안정성이 높다) 
관계는 각 데이터를 중복없이 한 번만 저장할 수 있습니다. (중복 방지 가능)

### 단점
테이블 간 관계를 맺고 있어 시스템이 커질 경우 join문이 많은 복잡한 쿼리가 만들어질 수 있다.
성능 향상을 위해서는 서버의 성능을 향상 시켜야하는 Scale-up만을 지원하기 때문에 비용이 기하급수적으로 늘어날 수 있다.
스키마로 인해 데이터가 유연하지 못하고, 나중에 스키마가 변경 될 경우 관리가 번거롭고 어려워 진다.
<br>

## NoSQL
### 장점
NoSQL에서는 스키마가 없기 때문에 유연하며 자유로운 데이터 구조를 가질 수 있고, 언제든 저장된 데이터를 조정하고 새로운 필드를 추가할 수 있다.
데이터 분산이 용이하며 성능 향상을 위한 Scale-up 뿐만이 아닌 Scale-out 또한 가능하다. (비용면에서 유리)

### 단점
데이터 중복이 발생할 수 있으며 중복된 데이터가 변경 될 경우 수정을 모든 컬렉션에서 수행을 해야 한다.
스키마가 존재하지 않기에 명확한 데이터 구조를 보장하지 않으며 데이터 구조 결정이 어려울 수 있다.
<br>


# RDBMS, NoSQL 언제 사용하는 것이 유리할까?
RDBMS는 데이터 구조가 명확하며 변경 될 여지가 없으며 명확한 스키마가 중요한 경우 사용하는 것이 좋다. 
또한 중복된 데이터가 없어(데이터 무결성) 변경이 용이하기 때문에 관계를 맺고 있는 데이터가 자주 변경이 이루어지는 시스템에 적합하다. 

 

NoSQL은 정확한 데이터 구조를 알 수 없고 데이터가 확장될 수 있는 경우에 사용하는 것이 좋다. 또한 단점에서도 명확하듯이 데이터 중복이 발생할 수 있으며 중복된 데이터가 변경될 시에는 모든 컬렉션에서 수정이 필요하다.
이러한 특징들을 기반으로 Update가 많이 이루어지지 않는 시스템이 좋다.
