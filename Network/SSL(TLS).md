# **π“ SSL/TLS**

### **κ°λ…**

-   SSLμ€ 1995λ…„ Netscape μ‚¬μ μ›Ή λΈλΌμ°μ € λ³΄μ• ν”„λ΅ν† μ½λ΅ μ²μ λ“±μ¥ν•μ€κ³ ,  
    1999λ…„ IETFμ— μν•΄ SSL 3.1μ„ ν‘μ¤€ν™”ν• TLS λ²„μ „ 1.0μ΄ λ°ν‘λμ—λ‹¤.  
    π‘‰ SSLκ³Ό TSLμ€ ν†µμƒμ μΌλ΅ κ°™μ€ μλ―Έλ΅ μ“°μΈλ‹¤.
-   SSL/TLSμ„ μ‚¬μ©ν•μ—¬ μ•”νΈν™”λ μ—°κ²°μ„ ν•λ” HTTPλ¥Ό HTTPSλΌκ³  ν•λ‹¤.
-   λ€μΉ­ν‚¤, λΉ„λ€μΉ­ν‚¤ μ•”νΈν™”μ λ‹¨μ μ„ λ³΄μ™„ν•λ‹¤.

```
π“ λ€μΉ­ν‚¤, λΉ„λ€μΉ­ν‚¤ μ•”νΈν™” λ°©μ‹
  
(1) λ€μΉ­ν‚¤ μ•”νΈν™”
  μ•”νΈν™”, λ³µνΈν™”μ— μ‚¬μ©λλ” ν‚¤κ°€ λ™μΌν•λ‹¤.  
  λΉ„λ€μΉ­ν‚¤ μ•”νΈν™” λ°©μ‹μ— λΉ„ν•΄ μ†λ„κ°€ λΉ λ¥΄λ‹¤λ” μ¥μ μ΄ μμ§€λ§,  
  μ²μ ν‚¤λ¥Ό κµν™ν•λ” κ³Όμ •μ—μ„ ν‚¤ νƒμ·¨μ— μν• λ³΄μ• μ•½μ μ΄ μ΅΄μ¬ν•λ‹¤.  
  
(2) λΉ„λ€μΉ­ν‚¤ μ•”νΈν™”
  μ•”νΈν™”, λ³µνΈν™”μ— μ‚¬μ©λλ” ν‚¤κ°€ λ‹¤λ¥΄λ‹¤.  
  λ€μΉ­ν‚¤ μ•”νΈν™” λ°©μ‹μ— λΉ„ν•΄ μ†λ„κ°€ λλ¦¬λ‹¤λ” λ‹¨μ μ΄ μμ§€λ§,  
  λ€μΉ­ν‚¤ μ•”νΈν™” λ°©μ‹μ ν‚¤ κµλ΅Ό λ¬Έμ λ¥Ό ν•΄κ²°ν•  μ μλ‹¤.  
 
β”οΈ λΉ„λ€μΉ­ν‚¤ μ•”νΈν™” λ°©μ‹ μ„¤λ…
  κ³µκ°ν‚¤μ™€ κ°μΈν‚¤λ¥Ό κ°€μ§€λ”λ°,  
  κ³µκ°ν‚¤λ” λ¨λ“  μ‚¬μ©μκ°€ μ ‘κ·Ό κ°€λ¥ν• ν‚¤μ΄λ©°, κ°μΈν‚¤λ” κ° μ‚¬μ©μλ§μ΄ κ°€μ§€λ” ν‚¤μ΄λ‹¤.  
   
1) Aμ™€ B μ‚¬μ©μκ°€ μλ‹¤κ³  ν•  λ•, Bκ°€ κ³µκ°ν‚¤/κ°μΈν‚¤ μμ„ μƒμ„±ν•λ‹¤.  
2) Aκ°€ Bλ΅ μ ‘μ† μ”μ²­μ„ λ³΄λ‚Έλ‹¤.  
3) Bλ” Aμ—κ² μμ‹ μ κ³µκ°ν‚¤λ¥Ό μ „μ†΅ν•λ‹¤.  
4) Aκ°€ Bμ κ³µκ°ν‚¤λ¥Ό μ‚¬μ©ν•μ—¬ λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•λ‹¤.  
5) μ•”νΈν™”λ λ°μ΄ν„°λ¥Ό Bμ—κ² μ „μ†΅ν•λ‹¤.  
6) Bλ” μ•”νΈν™”λ λ°μ΄ν„°λ¥Ό Bμ κ°μΈν‚¤λ΅ λ³µνΈν™”ν•λ‹¤.  
π‘‰ κ³µκ°ν‚¤μ™€ μμ„ μ΄λ£¨λ” κ°μΈν‚¤λ§μ΄ λ³µνΈν™”ν•  μ μμΌλ―€λ΅, Bλ§μ΄ λ°μ΄ν„°λ¥Ό λ³Ό μ μλ‹¤.
```

</br>

### **SSL/TLSμ μ•”νΈν™” λ°©μ‹**

SSL/TLSλ” λ€μΉ­ν‚¤, λΉ„λ€μΉ­ν‚¤ λ°©μ‹μ„ νΌν•©ν•μ—¬ μ‚¬μ©ν•¨μΌλ΅μ¨ κ·Έ λ‹¨μ μ„ κ·Ήλ³µν•λ‹¤.

μ²μ ν‚¤ κµν™ μ‹μ—λ§ λΉ„λ€μΉ­ν‚¤ λ°©μ‹μ„ μ‚¬μ©ν•κ³ , μ΄ν›„λ΅λ” λ€μΉ­ν‚¤ λ°©μ‹μ„ μ‚¬μ©ν•λ‹¤.

- Aμ™€ B μ‚¬μ©μκ°€ μλ‹¤κ³  ν•  λ•, Bλ” κ³µκ°ν‚¤/κ°μΈν‚¤ μμ„ μƒμ„±ν•λ‹¤.
- Aκ°€ Bλ΅ μ ‘μ† μ”μ²­μ„ λ³΄λ‚Έλ‹¤.
- Bλ” Aμ—κ² μμ‹ μ κ³µκ°ν‚¤λ¥Ό μ „μ†΅ν•λ‹¤.
- Aλ” μμ‹ μ λ€μΉ­ν‚¤λ¥Ό Bμ—μ„ μ „λ‹¬ λ°›μ€ Bμ κ³µκ°ν‚¤λ΅ μ•”νΈν™”ν•λ‹¤.
- μ•”νΈν™”ν• λ‹¤μ‹ μ λ€μΉ­ν‚¤λ¥Ό Bμ—κ² μ „λ‹¬ν•λ‹¤.
- Bλ” μμ‹ μ κ°μΈν‚¤λ΅ λ³µνΈν™”ν•μ—¬ Aμ λ€μΉ­ν‚¤λ¥Ό μ–»λ”λ‹¤.
- μ–»μ€ λ€μΉ­ν‚¤λ¥Ό ν™μ©ν•μ—¬ Aμ™€ Bλ” μ•μ „ν•κ³  λΉ λ¥΄κ² λ€μΉ­ν‚¤ μ•”νΈν™” λ°©μ‹μΌλ΅ ν†µμ‹ ν•λ‹¤.

</br>

### **SSL/TLS Handshake**

ν†µμ‹ μ„ ν•λ” λΈλΌμ°μ €μ™€ μ›Ή μ„λ²„κ°€ μ„λ΅ μ•”νΈν™” ν†µμ‹ μ„ μ‹μ‘ν•  μ μλ„λ΅ μ‹ λ¶„μ„ ν™•μΈν•κ³ , ν•„μ”ν• μ •λ³΄λ¥Ό μ£Όκ³  λ°›λ” κ³Όμ •μ΄λ‹¤.

μ•„λλ” Handshake κ³Όμ •μ„ ν‘ν„ν• κ·Έλ¦Όμ΄λ‹¤. νλ€ μΉΈκ³Ό λ…Έλ€ μΉΈμ€ λ„¤νΈμ›ν¬ μƒμ—μ„ μ „λ‹¬λλ” IP ν¨ν‚·μ΄λ‹¤.

-   νλ€ μΉΈμ€ TCP λ μ΄μ–΄μ 3-Way Handshakeλ΅, HTTPSλ” TCP κΈ°λ°μ ν”„λ΅ν† μ½μ΄λ―€λ΅  
    SSL/TLS Handshakeμ— μ•μ„ μ—°κ²° μƒμ„±μ„ μ„ν•΄ μ‹¤μ‹ν•λ” κ³Όμ •μ΄λ‹¤.
-   λ…Έλ€ μΉΈμ— ν•΄λ‹Ήν•λ” ν¨ν‚·λ“¤μ΄ SSL/TLS Handshakeμ΄λ‹¤.

![image](https://user-images.githubusercontent.com/59721896/195625564-3cf010e3-b6f4-4910-b483-0812ac523b63.png)

-   **ClientHello**  
    ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ— μ—°κ²°μ„ μ‹λ„ν•λ©° μ „μ†΅ν•λ‹¤.
-   **ServerHello**  
    μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈκ°€ λ³΄λ‚Έ ClientHello ν¨ν‚·μ„ λ°›κ³ , ν΄λΌμ΄μ–ΈνΈμ—κ² μ•λ¦°λ‹¤.Β 
-   **Certificate**  
    μ„λ²„λ” μμ‹ μ μΈμ¦μ„λ¥Ό ν΄λΌμ΄μ–ΈνΈμ—κ² μ „λ‹¬ν•λ‹¤. (μ„λ²„μ κ³µκ°ν‚¤κ°€ λ“¤μ–΄μλ‹¤.)  
    ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„κ°€ λ³΄λ‚Έ μ•”νΈν™”λ μΈμ¦μ„λ¥Ό CAμ κ³µκ°ν‚¤λ΅ λ³µνΈν™”ν•λ‹¤.  
    π‘‰ λ³µνΈν™” μ„±κ³µ μ‹ ν•΄λ‹Ή μΈμ¦μ„λ” CAκ°€ μ„λ…ν• κ²ƒμ΄ λ§μΌλ‹ μ§„μ§μ„μ΄ κ²€μ¦λλ‹¤.
-   **ServerKeyExchange**  
    μ„λ²„μ κ³µκ°ν‚¤κ°€ μΈμ¦μ„ λ‚΄λ¶€μ— μ—†λ‹¤λ©΄, μ„λ²„κ°€ μ§μ ‘ μ „λ‹¬ν•λ‹¤λ” λ»μΌλ΅,  
    ServerKeyExchangeκ°€ ν•„μ”ν•μ§€λ§, λ°λ€μ κ²½μ°μ—λ” ServerKeyExchangeλ” μƒλµλλ‹¤.
-   **ServerHelloDone**  
    μΈμ¦μ„ λ‚΄λ¶€μ— μ„λ²„μ κ³µκ°ν‚¤κ°€ μλ‹¤λ©΄, ν΄λΌμ΄μ–ΈνΈκ°€ CAμ κ³µκ°ν‚¤λ¥Ό ν†µν•΄ μΈμ¦μ„λ¥Ό λ³µνΈν™”ν• ν›„  
    μ„λ²„μ κ³µκ°ν‚¤λ¥Ό ν™•λ³΄ν•  μ μλ‹¤. κ·Έλ¦¬κ³  μ„λ²„κ°€ ν–‰λ™μ„ λ§μ³¤μμ„ μ „λ‹¬ν•λ‹¤.
-   **ClientKeyExchange**  
    ν΄λΌμ΄μ–ΈνΈλ” λ°μ΄ν„° μ•”νΈν™”μ— μ‚¬μ©ν•  λ€μΉ­ν‚¤λ¥Ό μƒμ„±ν• ν›„,  
    μΈμ¦μ„ λ‚΄λ¶€μ—μ„ μ¶”μ¶ν• μ„λ²„μ κ³µκ°ν‚¤λ¥Ό μ΄μ©ν•μ—¬ μ•”νΈν™”ν•μ—¬ μ„λ²„μ—κ² μ „λ‹¬ν•λ‹¤.  
    π‘‰ μ—¬κΈ°μ„ μ „λ‹¬λ λ€μΉ­ν‚¤κ°€ Handshakeμ λ©μ μ΄μ, μ‹¤μ λ΅ λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•  ν‚¤μ΄λ‹¤.
-   **ChangeCipherSpec**  
    κµν™ν•΄μ•Ό ν•  μ •λ³΄λ¥Ό λ¨λ‘ κµν™ν• λ’¤, λ¨λ“  μ¤€λΉ„κ°€ μ™„λ£λμ—μμ„ μ•λ¦¬λ” ν¨ν‚·μ΄λ‹¤.
-   **Finished**  
    HandShakeλ¥Ό μΆ…λ£ν•λ‹¤.

</br>

### **SSL/TLSμ΄ μ κ³µν•λ” λ³΄μ• μ„λΉ„μ¤**

-   **κΈ°λ°€μ„±**  
    λ€μΉ­ν‚¤, λΉ„λ€μΉ­ν‚¤ μ•”νΈν™” λ°©μ‹μ„ μ‚¬μ©ν•μ—¬ κΈ°λ°€μ„±μ„ μ κ³µν•λ‹¤.
-   **λ¬΄κ²°μ„±**  
    λ°μ΄ν„° μ„λ³€μ΅°λ¥Ό ν™•μΈν•λ‹¤.
-   **μΈμ¦**  
    μ—°κ²° μ΄κΈ° μ„¤μ •μ—μ„ μ£Όκ³  λ°›λ” μΈμ¦μ„λ¥Ό ν†µν•΄ μ‹ λΆ°ν•  μ μλ” μ‚¬μ©μμΈμ§€ λ³΄μ¥ν•  μ μλ‹¤.

</br>

μ°Έκ³ 

-   [https://steady-coding.tistory.com/512](https://steady-coding.tistory.com/512)
-   [https://brownbears.tistory.com/402](https://brownbears.tistory.com/402)
-   [https://howhttps.works/ko/https-ssl-tls-differences/](https://howhttps.works/ko/https-ssl-tls-differences/)
-   [https://liveyourit.tistory.com/183](https://liveyourit.tistory.com/183)
